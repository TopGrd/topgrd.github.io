<!DOCTYPE html>
<html lang="zh-cn">
<head>
<meta charset="utf-8">
<meta name="description" content="The last theme you&#39;ll ever need. Maybe.">
<meta name="generator" content="Hugo 0.55.6" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/css/style.css" type="text/css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700" type="text/css">
<link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/styles/ocean.min.css">
<link rel="alternate" href="/index.xml" type="application/rss+xml" title="TopGrd&#39;s Blog">
<title>Who am i ? - TopGrd&#39;s Blog</title>
</head>
<body>

<header>
  <div class="container clearfix">
    <a class="path" href="http://topgrd.github.io/">[TopGrd&#39;s Blog]</a>
    <span class="caret"># _</span>
    <div class="right">
      
    </div>
  </div>
</header>

<div class="container">



<main role="main" class="homepage">

  
<h1 class="site-title">
  <span class="base05">[</span><span class="base08">T</span><span class="base09">o</span><span class="base0a">p</span><span class="base0b">G</span><span class="base0c">r</span><span class="base0d">d</span><span class="base05">]</span>
  <span class="base05"># _</span>
</h1>

<div class="hero-logo">
  <img src="/img/base16-eighties.svg">
</div>

<div style="text-align: center;">
  I code something
</div>


  <h1 class="headline">Recent Posts</h1>

  
  <div class="article-list">
    
      <article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="/post/5/">Node æ€§èƒ½ä¼˜åŒ–ä¸é—®é¢˜æ’æŸ¥</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2019-06-26">June 26, 2019</time></span>

  </div>
  <section class="summary">
    æœåŠ¡æ€§èƒ½æŒ‡æ ‡
 ååé‡ æ˜¯å¦å­˜åœ¨å†…å­˜æ³„éœ²  ååé‡ QPS (TPS) æ¯ç§’æŸ¥è¯¢ç‡QPSæ˜¯å¯¹ä¸€ä¸ªç‰¹å®šçš„æŸ¥è¯¢æœåŠ¡å™¨åœ¨è§„å®šæ—¶é—´å†…æ‰€å¤„ç†æµé‡å¤šå°‘çš„è¡¡é‡æ ‡å‡†ï¼Œé€šå¸¸ç”¨æ¥è¡¨è¾¾å’Œè¡¡é‡å½“å‰ç³»ç»Ÿçš„è´Ÿè½½
å¹¶å‘æ•° ç³»ç»ŸåŒæ—¶å¤„ç†çš„request/äº‹åŠ¡æ•°
å“åº”æ—¶é—´ ä¸€èˆ¬å–å¹³å‡å“åº”æ—¶é—´
å…³ç³» QPS = å¹¶å‘é‡ / å¹³å‡å“åº”æ—¶é—´
 ä¸€ä¸ªç³»ç»Ÿååé‡é€šå¸¸ç”±QPSï¼ˆTPSï¼‰ã€å¹¶å‘æ•°ä¸¤ä¸ªå› ç´ å†³å®šï¼Œæ¯å¥—ç³»ç»Ÿè¿™ä¸¤ä¸ªå€¼éƒ½æœ‰ä¸€ä¸ªç›¸å¯¹æé™å€¼ï¼Œåœ¨åº”ç”¨åœºæ™¯è®¿é—®å‹åŠ›ä¸‹ï¼Œåªè¦æŸä¸€é¡¹è¾¾ åˆ°ç³»ç»Ÿæœ€é«˜å€¼ï¼Œç³»ç»Ÿçš„ååé‡å°±ä¸Šä¸å»äº†ï¼Œå¦‚æœå‹åŠ›ç»§ç»­å¢å¤§ï¼Œç³»ç»Ÿçš„ååé‡åè€Œä¼šä¸‹é™ï¼ŒåŸå› æ˜¯ç³»ç»Ÿè¶…è´Ÿè·å·¥ä½œï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢ã€å†…å­˜ç­‰ç­‰å…¶å®ƒæ¶ˆè€—å¯¼è‡´ç³»ç»Ÿæ€§èƒ½ä¸‹ é™!
 å¦‚æœæƒ³è¦æé«˜ç³»ç»Ÿååé‡ï¼Œå°±éœ€è¦å…ˆè¿›è¡Œæ€§èƒ½æµ‹è¯•ï¼Œæµ‹å‡ºç³»ç»Ÿæé™ï¼Œç„¶åå†è¿›è¡Œæ€§èƒ½è°ƒä¼˜ã€‚
ä½¿ç”¨ JMeter è¿›è¡Œæ€§èƒ½æµ‹è¯• Apache JMeter - Download Apache JMeter
ä¸‹è½½jmeterï¼Œç„¶åè§£å‹åˆ°ä»»æ„ç›®å½•ï¼Œæ‰§è¡Œbinæ–‡ä»¶å¤¹ä¸‹çš„ jmeter.shåœ¨å‡ºç°çš„UIç•Œé¢ä¸Šè¿›è¡Œå¯¹ä½ çš„node æœåŠ¡è¿›è¡Œç›¸åº”æµ‹è¯•ï¼Œå…·ä½“å¦‚ä½•æµ‹è¯•å¯ä»¥Googleã€‚å¯ä»¥æµ‹å‡ºç¨‹åºçš„ååé‡ã€‚
å†…å­˜æ³„éœ²  å†…å­˜æ³„æ¼ï¼ˆMemory Leakï¼‰æŒ‡ç”±äºç–å¿½æˆ–é”™è¯¯é€ æˆç¨‹åºæœªèƒ½é‡Šæ”¾å·²ç»ä¸å†ä½¿ç”¨çš„å†…å­˜çš„æƒ…å†µã€‚
 å¦‚æœä¸€ä¸ªç¨‹åºå­˜åœ¨å†…å­˜æ³„éœ²ï¼Œåˆ™éšç€æ—¶é—´çš„æ¨ç§»ï¼Œå†…å­˜å ç”¨è¶Šæ¥è¶Šæ¥ï¼Œç¨‹åºä¹Ÿå°±ä¼šè¶Šæ¥è¶Šå¡ï¼Œå¯¼è‡´ç³»ç»Ÿæ€§èƒ½ä¸‹é™ï¼Œååé‡ä¸‹é™ï¼Œå› æ­¤å¦‚æœå‘ç°ä½ çš„ç¨‹åºè¶Šæ¥è¶Šæ…¢ï¼Œé‚£å¯èƒ½å­˜åœ¨å†…å­˜æ³„éœ²é—®é¢˜ã€‚
æ€§èƒ½ä¼˜åŒ– heapdumpæˆ–ä½¿ç”¨ v8-profiler
è¿™ä¸¤ä¸ªå·¥å…·çš„åŸç†éƒ½æ˜¯ä¸€è‡´çš„ï¼šè°ƒç”¨v8å¼•æ“æš´éœ²çš„æ¥å£ï¼š
v8::Isolate::GetCurrent()-&gt;GetHeapProfiler()-&gt;TakeHeapSnapshot(title, control)
ç„¶åå°†è·å–çš„c++å¯¹è±¡æ•°æ®è½¬æ¢ä¸ºjså¯¹è±¡ã€‚
è¿™é‡Œæ¨èä½¿ç”¨v8-profilerå› ä¸ºå¤šä¸€ä¸ªcpuå¿«ç…§åŠŸèƒ½
node-inspector/v8-profiler
å¿«ç…§ æˆ‘ä»¬ä¸ºç¨‹åºæ·»åŠ ä¸€ä¸ªè¿›è¡Œå¿«ç…§çš„è·¯ç”±ï¼Œåœ¨æœåŠ¡ä¸€å¼€å§‹è¿è¡Œçš„æ—¶å€™å¼€å§‹CPUåˆ†æå¹¶è¿›è¡Œç¬¬ä¸€æ¬¡å †å¿«ç…§ï¼Œæ–¹ä¾¿åé¢å¯¹æ¯”ï¼ŒæœåŠ¡ç«¯æ¥å—åˆ°è¿™ä¸ªGetè¯·æ±‚æ—¶ï¼Œè¿›è¡Œåœæ­¢åˆ†æï¼Œå¹¶è¿›è¡Œå †å¿«ç…§å’ŒCPUå¿«ç…§ï¼Œä¿å­˜å¿«ç…§æ–‡ä»¶ã€‚
const router = require('koa-router')(); const fs = require('fs'); const profiler = require('v8-profiler'); profiler.startProfiling(); const snapshot1 = profiler.  <a href="/post/5/">Read More...</a>
  </section>
</article>

    
      <article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="/post/4/">Prettier &#43; Eslint =&gt; ğŸ’–</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2018-12-03">December 03, 2018</time></span>

  </div>
  <section class="summary">
    Prettier ä¸ºä»€ä¹ˆè¦ç”¨ Prettierï¼Ÿ å…³äºä»£ç é£æ ¼çš„åœ£æˆ˜ï¼Œä»åˆ°åº•è¦ä¸è¦åˆ†å·ï¼Œç¼©è¿›ç”¨tabè¿˜æ˜¯spaceï¼Œ2ä¸ªè¿˜æ˜¯4ä¸ªç©ºæ ¼ï¼Œä»æœªåœæ­¢è¿‡ã€‚ä½†æ˜¯ä½œä¸ºç°ä»£javascript å¼€å‘è€…ï¼Œwho cares ! æˆ‘ä»¬ä½¿ç”¨eslint å°±å¯ä»¥è½»æ¾çš„æ§åˆ¶å›¢é˜Ÿçš„ä»£ç é£æ ¼ï¼Œä½†æ˜¯ eslint åœ¨æŸäº›æ–¹é¢å°±æ— æ³•å¼ºåˆ¶äº†ï¼Œä¸‹é¢2ä»½ä»£ç 
if (a &lt; 1) { console.log('haha'); }  if (a &lt; 1) { console.log('haha'); }  Eslint éƒ½ä¸ä¼šæŠ¥é”™ï¼Œè¿˜æœ‰ trailing commasï¼ŒWhy you should enforce Dangling Commas for Multiline Statements ç­‰ç­‰ã€‚è€Œprettier + eslint å¯ä»¥å®Œç¾çš„é¿å…è¿™äº›é£æ ¼ä¸ç»Ÿä¸€çš„é—®é¢˜ã€‚å½“ä½ çš„é£æ ¼ä¸å›¢é˜Ÿ eslint é…ç½®æœ‰ä¸åŒæ—¶ï¼Œåªéœ€è¦prettierä¸€ä¸‹ï¼Œå°±å¯ä»¥ä¿æŒä¸€è‡´ï¼Œä¸éœ€è¦åœ¨å†™ä»£ç æ—¶å…³å¿ƒå·®å¼‚ï¼Œå¹¶ä¸” prettier ä¹Ÿæ˜¯å½“å‰æœ€ç«çš„ä¸€æ¬¾ format å·¥å…·ï¼Œå¾ˆå¤šå¼€æºé¡¹ç›®ä¸‹é¢ï¼Œä½ ä¼šå‘ç°éƒ½ä¼šæœ‰ä¸€ä»½ .prettierrc
 By far the biggest reason for adopting Prettier is to stop all the on-going debates over styles. It is generally accepted that having a common style guide is valuable for a project and team.  <a href="/post/4/">Read More...</a>
  </section>
</article>

    
      <article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="/post/3/">React hooks: not magic, just arrays </a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2018-11-02">November 02, 2018</time></span>

  </div>
  <section class="summary">
    https://medium.com/@ryardley/react-hooks-not-magic-just-arrays-cd4f1857236e
function Info() { const [name, setName] = useState('Topgrd') return ( &lt;div&gt; &lt;h2&gt;{name}&lt;/h2&gt; &lt;input onChange={e =&gt; setName(e.target.value)} /&gt; &lt;/div&gt; ) }   Donâ€™t call Hooks inside loops, conditions, or nested functions Only Call Hooks from React Functions  let state = []; let setters = []; let firstRun = true; let cursor = 0; function createSetter(cursor) { return function setterWithCursor(newVal) { state[cursor] = newVal; }; } export function useState(initVal) { if (firstRun) { state.  <a href="/post/3/">Read More...</a>
  </section>
</article>

    
  </div>

  
  <nav class="paginator">
    
    <a class="nav-left" href="/page/2/">&lt; Prev</a>
    

    <span>3 / 4</span>

    
    <a class="nav-right" href="/page/4/">Next &gt;</a>
    
  </nav>







  <h1 class="headline">Tags</h1>

  <section class="tags">
    
    <span class="tag">
      <a href="http://topgrd.github.io/tags/medium">medium</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://topgrd.github.io/tags/node">node</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://topgrd.github.io/tags/react">react</a>
      <small>(2)</small>
    </span>
    
    <span class="tag">
      <a href="http://topgrd.github.io/tags/webpack">webpack</a>
      <small>(2)</small>
    </span>
    
  </section>



</main>


</div>

<footer>
  <div class="container">
    <span class="copyright">&copy; 2019 TopGrd&#39;s Blog - <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></span>
  </div>
</footer>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>

